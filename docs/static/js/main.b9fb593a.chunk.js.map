{"version":3,"sources":["logo.svg","static/constants.js","combat.js","spellbook.js","Encounter.js","static/playerInit.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","constants","BASE_HIT_NUMBER","HIT_DICE_SIDES","resolveMelee","attacker","defender","console","log","hitNum","stats","acc","eva","Math","floor","random","damage","max","baseDmg","str","def","combatDamage","concat","name","glanceDmg","hp","critDmg","logMessage","getSpells","Encounter","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","castSpell","spell","assertThisInitialized","newLog","addLogMessage","state","combatLog","newVals","cost","con","effect","debuffStr","debuffDef","debuffAcc","debuffEva","heal","resolveSpell","player","enemy","cards","newestLog","setState","enableAction","endEncounter","_displayActions","displayActions","bind","_attack","attack","_defend","defend","_draw","_this2","draw","apply","arguments","length","react_default","a","createElement","className","dist","type","onPress","newMessage","unshift","pop","entity","newProps","prevProps","displayEntity","Encounter_Hand","handler","Encounter_CombatLog","logs","Component","Hand","_ref","_ref$cards","_ref$handler","map","card","key","id","statStrings","push","join","costString","effectStrings","effectString","onClick","CombatLog","_ref2","_ref2$logs","playerInit","World","inEncounter","_endEncounter","didPlayerWin","src_Encounter_0","App","App_World","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b9fb593a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","const constants = {\n  BASE_HIT_NUMBER: 8,\n  HIT_DICE_SIDES: 12\n}\nexport default constants;\n","import constants from './static/constants';\n\n/*\n * determines base combat damage for melee between two entities\n * returns damage\n */\nfunction combatDamage(attacker, defender) {\n    return attacker.baseDmg + attacker.stats.str - defender.stats.def;\n}\n\nfunction resolveMelee(attacker, defender) {\n    console.log('In resolveMelee')\n    let hitNum = constants.BASE_HIT_NUMBER + attacker.stats.acc - defender.stats.eva + Math.floor((Math.random() * constants.HIT_DICE_SIDES) + 1);\n    let damage = Math.max(combatDamage(attacker, defender), 0);\n    let log;\n    if (hitNum <= 1) { // Miss\n        log = `${attacker.name} fails to land a hit! ${defender.name} received no damage!`;\n    } else if (hitNum <= 10 && hitNum >= 2) { // glancing blow\n        let glanceDmg = Math.floor(damage*0.5);\n        defender.hp = defender.hp - glanceDmg;\n        log = `${attacker.name} lands a glancing blow upon ${defender.name}. ${glanceDmg} damage was dealt`;\n    } else if (hitNum >=20) { // critical hit\n        let critDmg = Math.max(damage*2, 1);\n        defender.hp = defender.hp - critDmg;\n        log = `${attacker.name} lands a critical hit! ${critDmg} damage oozes out from ${defender.name}`;\n    } else { // hitNum <=19 && hitNum >=11, normal hit\n        defender.hp = defender.hp - damage;\n        log = `${attacker.name} hits ${defender.name}. ${damage} damage was dealt`;\n    }\n    console.log('Out resolveMelee')\n\n    return {attacker: attacker, defender: defender, logMessage: log};\n}\n\nfunction resolveSpell(attacker, defender, spell) {\n    // Deal with cost first\n    if (spell.cost.str) {\n        attacker.stats.str = attacker.stats.str - spell.cost.str;\n    }\n    if (spell.cost.def) {\n        attacker.stats.def = attacker.stats.def - spell.cost.def;\n    }\n    if (spell.cost.acc) {\n        attacker.stats.acc = attacker.stats.acc - spell.cost.acc;\n    }\n    if (spell.cost.eva) {\n        attacker.stats.eva = attacker.stats.eva - spell.cost.eva;\n    }\n    if (spell.cost.con) {\n        attacker.stats.con = attacker.stats.con - spell.cost.con;\n    }\n\n    // resolve spell effect & flavor text\n    let log;\n    if (spell.effect.damage) {\n        defender.hp = defender.hp - spell.effect.damage;\n        log = `${defender.name} is seared for ${spell.effect.damage} magical damage!`;\n    }\n    if (spell.effect.debuffStr) {\n        defender.stats.str = Math.max(defender.stats.str - spell.effect.debuffStr, 0);\n        log = `${defender.name} appears to struggle lifting their weapon`;\n    }\n    if (spell.effect.debuffDef) {\n        defender.stats.def = Math.max(defender.stats.def - spell.effect.debuffDef, 0);\n        log = `${defender.name} looks confused and is no longer bracing themselves against an attack`;\n    }\n    if (spell.effect.debuffAcc) {\n        defender.stats.acc = Math.max(defender.stats.acc - spell.effect.debuffAcc, 0);\n        log = `${defender.name} squints their eyes as they look off to your left`;\n    }\n    if (spell.effect.debuffEva) {\n        defender.stats.eva = Math.max(defender.stats.eva - spell.effect.debuffEva, 0);\n        log = `${defender.name} stumbles around as they loose their footing`;\n    }\n    if (spell.effect.heal) {\n        attacker.hp = attacker.stats.con;\n        log = \"As your wounds close, you feel much better.  Kind of...\";\n    }\n    return {attacker: attacker, defender: defender, logMessage: log};\n}\nexport {resolveMelee, resolveSpell};\n","const spellbook = [\n    {\n        id: 0,\n        name: 'Earthquake',\n        type: 'damage',\n        cost: { str: 1 },\n        effect: { damage: 5 }\n    },{\n        id: 1,\n        name: 'Blood Boil',\n        type: 'damage',\n        cost: { def: 1 },\n        effect: { damage: 5 }\n    },{\n        id: 2,\n        name: 'Bolt Throw',\n        type: 'damage',\n        cost: { acc: 1 },\n        effect: { damage: 5 }\n    },{\n        id: 3,\n        name: 'Shadow Strike',\n        type: 'damage',\n        cost: { eva: 1 },\n        effect: { damage: 5 }\n    },{\n        id: 4,\n        name: 'Sap',\n        type: 'debuff',\n        cost: { acc: 1 },\n        effect: { debuffStr: 5 }\n    },{\n        id: 5,\n        name: 'Fraility',\n        type: 'debuff',\n        cost: { eva: 1 },\n        effect: { debuffStr: 5 }\n    },{\n        id: 6,\n        name: 'Bewilder',\n        type: 'debuff',\n        cost: { acc: 1 },\n        effect: { debuffDef: 5 }\n    },{\n        id: 7,\n        name: 'Spore Cloud',\n        type: 'debuff',\n        cost: { eva: 1 },\n        effect: { debuffDef: 5 }\n    },{\n        id: 8,\n        name: 'Haze',\n        type: 'debuff',\n        cost: { str: 1 },\n        effect: { debuffAcc: 5 }\n    },{\n        id: 9,\n        name: 'Dust Devil',\n        type: 'debuff',\n        cost: { def: 1 },\n        effect: { debuffAcc: 5 }\n    },{\n        id: 10,\n        name: 'Sand Trap',\n        type: 'debuff',\n        cost: { str: 1 },\n        effect: { debuffEva: 5 }\n    },{\n        id: 11,\n        name: 'Freeze',\n        type: 'debuff',\n        cost: { def: 1 },\n        effect: { debuffEva: 5 }\n    },{\n        id: 12,\n        name: 'Cauterize',\n        type: 'heal',\n        cost: { con: 1 },\n        effect: { heal: 1 }\n    },{\n        id: 13,\n        name: 'Cauterize',\n        type: 'heal',\n        cost: { con: 1 },\n        effect: { heal: 1 }\n    },{\n        id: 14,\n        name: 'Cauterize',\n        type: 'heal',\n        cost: { con: 1 },\n        effect: { heal: 1 }\n    }\n];\n\nfunction getSpells(numSpells) {\n    // If asking for more spells than we know, return them all\n    if (numSpells >= spellbook.length) {\n        return spellbook;\n    }\n\n    // Generate unique random numbers\n    let spellIndexes = [];\n    while (spellIndexes.length < numSpells) {\n        let randSpellIndex = Math.floor(Math.random() * spellbook.length);\n        if (-1 === spellIndexes.indexOf(randSpellIndex)) {\n            spellIndexes.push(randSpellIndex);\n        }\n    }\n\n    // Use those numbers to generate random spell list\n    let spellArray = [];\n    spellIndexes.forEach((index) => {\n        spellArray.push(spellbook[index]);\n    });\n    return spellArray;\n}\n\nexport default getSpells;\n","import React, { Component } from 'react';\nimport { AwesomeButton } from 'react-awesome-button';\nimport AwesomeButtonStyles from \"react-awesome-button/src/styles/styles.scss\";\n\nimport './Encounter.css';\nimport { resolveMelee, resolveSpell } from './combat';\nimport getSpells from './spellbook';\n\nclass Encounter extends Component {\n    constructor() {\n        super();\n        this.state = {\n            player: {\n                stats: {}\n            },\n            enemy: {\n                stats: {}\n            },\n            enableAction: true,\n            combatLog: [],\n            endEncounter: function() { return; }\n        }\n\n        this._displayActions = this.displayActions.bind(this);\n        this._attack = this.attack.bind(this);\n        this._defend = this.defend.bind(this);\n        this._draw = (...args) => this.draw(...args);\n    }\n\n    displayActions() {\n        if (this.state.player.cards && this.state.player.cards.length !== 0) {\n            return (<div className='button-box'/>);\n        }\n        return (\n            <div className='button-box'>\n                <AwesomeButton\n                    type='primary'\n                    // cssModule={ AwesomeButtonStyles }\n                    onPress={ this._attack }\n                >\n                    Attack\n                </AwesomeButton>\n                <AwesomeButton\n                    type=\"secondary\"\n                    onPress={ this._draw }\n                >\n                    Cast Blood Magic\n                </AwesomeButton>\n            </div>\n        )\n    }\n\n    attack() {\n        console.log('In attack')\n        if (this.state.enableAction) {\n            const newVals = resolveMelee(this.state.player, this.state.enemy);\n            console.log('!!', newVals);\n            let newLog = this.addLogMessage(this.state.combatLog, newVals.logMessage);\n            if (newVals.defender.hp <= 0) {\n                this.state.endEncounter(true, newVals.attacker);\n            } else {\n                this.setState({ player: newVals.attacker, enemy: newVals.defender, enableAction:false, combatLog: newLog });\n            }\n        }\n    }\n\n    defend() {\n        console.log('In defend (being attacked)')\n        const newVals = resolveMelee(this.state.enemy, this.state.player);\n        let newLog = this.addLogMessage(this.state.combatLog, newVals.logMessage);\n        if (newVals.defender.hp <= 0) {\n            this.state.endEncounter(false, newVals.defender);\n        } else {\n            this.setState({ player: newVals.defender, enemy: newVals.attacker, enableAction:true, combatLog: newLog });\n        }\n    }\n\n    draw() {\n        console.log('draw');\n        //const { player, updatePlayer } = this.state;\n        //updatePlayer({\n        //    ...player,\n        //    cards: [...getSpells(3)]\n        //});\n    }\n\n    castSpell=(spell) => {\n        console.log('in cast spell', spell, this)\n        const newLog = this.addLogMessage(this.state.combatLog, `You cast ${spell.name}`);\n        const newVals = resolveSpell(this.state.player, this.state.enemy, spell);\n        newVals.attacker.cards = [];\n        const newestLog = this.addLogMessage(newLog, newVals.logMessage);\n        this.setState({ player: newVals.attacker, enemy: newVals.defender, enableAction:false, combatLog: newestLog });\n    }\n\n    addLogMessage(log, newMessage) {\n        log.unshift(newMessage);\n        while (log.length > 10) {\n            log.pop();\n        }\n        return log;\n    }\n\n    displayEntity(entity) {\n        return (\n            <div className='entity-data'>\n                <div className='row'>\n                    <div className='info-column column'>\n                        { entity.name }\n                    </div>\n                    <div className='stat-name-column column'>\n                        Str\n                    </div>\n                    <div className='stat-value-column column'>\n                        { entity.stats.str }\n                    </div>\n                </div>\n                <div className='row'>\n                    <div className='info-column column'>\n                        Base DMG: { entity.baseDmg }\n                    </div>\n                    <div className='stat-name-column column'>\n                        Def\n                    </div>\n                    <div className='stat-value-column column'>\n                        { entity.stats.def }\n                    </div>\n                </div>\n                <div className='row'>\n                    <div className='info-column column'>\n                        HP: { entity.hp }\n                    </div>\n                    <div className='stat-name-column column'>\n                        Acc\n                    </div>\n                    <div className='stat-value-column column'>\n                        { entity.stats.acc }\n                    </div>\n                </div>\n                <div className='row'>\n                    <div className='info-column column'>\n                    </div>\n                    <div className='stat-name-column column'>\n                        Eva\n                    </div>\n                    <div className='stat-value-column column'>\n                        { entity.stats.eva }\n                    </div>\n                </div>\n                <div className='row'>\n                    <div className='info-column column'>\n                    </div>\n                    <div className='stat-name-column column'>\n                        Const\n                    </div>\n                    <div className='stat-value-column column'>\n                        { entity.stats.con }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    componentWillReceiveProps(newProps) {\n        const { player, enemy, endEncounter } = newProps;\n        this.setState({ player, enemy, endEncounter });\n    }\n\n    componentDidUpdate(prevProps) {\n        console.log('in component did update', prevProps)\n        if (this.state.enableAction === false) {\n            this.defend();\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                { this.displayEntity(this.state.player) }\n                { this.displayEntity(this.state.enemy) }\n                { this.displayActions() }\n                <Hand cards={this.state.player.cards} handler={this.castSpell}/>\n                <CombatLog logs={this.state.combatLog} />\n            </div>\n        );\n    }\n}\n\nconst Hand = ({cards=[], handler=()=>{}}) => (\n    <div className=\"hand\">\n        {cards.map(card => (\n            <div className=\"card\" key={card.id}>\n                <div className=\"title\">{card.name}</div>\n                <div className=\"spacing\">\n                    <strong>Cost:</strong> {costString(card.cost)}<br/>\n                    <strong>Effect:</strong> {effectString(card.effect)}<br/>\n                </div>\n                <button className=\"action\" onClick={function() {handler(card);}}>Play!</button>\n            </div>\n        ))}\n    </div>\n);\n\nconst CombatLog = ({logs=[]}) => (\n    <div className=\"log-container\">\n        Combat Log:\n        {logs.map(log => (\n            <div className=\"log-message\">\n                {log}\n            </div>\n        ))}\n    </div>\n);\n\nfunction costString(cost) {\n    let statStrings = [];\n    if (cost.str) {\n        statStrings.push(`-${cost.str} STR`);\n    }\n    if (cost.def) {\n        statStrings.push(`-${cost.def} DEF`);\n    }\n    if (cost.acc) {\n        statStrings.push(`-${cost.acc} ACC`);\n    }\n    if (cost.eva) {\n        statStrings.push(`-${cost.eva} EVA`);\n    }\n    if (cost.con) {\n        statStrings.push(`-${cost.con} CON`);\n    }\n    return statStrings.join(', ');\n}\n\nfunction effectString(effect) {\n    let effectStrings = [];\n    if (effect.damage) {\n        effectStrings.push(`Deals ${ effect.damage} magical damage`);\n    }\n    if (effect.debuffStr) {\n        effectStrings.push(`Lowers enemy STR by ${effect.debuffStr}`);\n    }\n    if (effect.debuffDef) {\n        effectStrings.push(`Lowers enemy DEF by ${effect.debuffDef}`);\n    }\n    if (effect.debuffAcc) {\n        effectStrings.push(`Lowers enemy ACC by ${effect.debuffAcc}`);\n    }\n    if (effect.debuffEva) {\n        effectStrings.push(`Lowers enemy EVA by ${effect.debuffEva}`);\n    }\n    if (effect.heal) {\n        effectStrings.push(`Heals your HP back to full`);\n    }\n    return effectStrings.join('<br/>');\n}\n\nexport default Encounter;\n","const startingHealth = 10;\n\nconst playerInit = {\n    name: 'Player',\n    stats: {\n        acc: 10,\n        eva: 10,\n        str: 10,\n        def: 10,\n        con: startingHealth\n    },\n    baseDmg: 2,\n    hp: startingHealth,\n    cards: []\n}\n\nexport default playerInit;\n","import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport Encounter from './Encounter';\nimport playerInit from './static/playerInit';\n\nclass World extends Component {\n    constructor() {\n        super();\n        this.state = {\n            player: {\n                stats: {},\n                baseDmg: 2,\n                cards: []\n            },\n            inEncounter: true\n        }\n\n        this._endEncounter = this.endEncounter.bind(this);\n    }\n\n    endEncounter(didPlayerWin, player) {\n        console.log('Encounter over, player won: ', didPlayerWin);\n        this.setState({ inEncounter: false });\n    }\n\n    componentDidMount() {\n        this.setState({ player: playerInit });\n\n        const testEnemy = {\n            name: 'Reaper',\n            stats: {\n                acc: 10,\n                eva: 10,\n                str: 8,\n                def: 5,\n                con: 10\n            },\n            baseDmg: 1,\n            hp: 10\n        };\n        this.setState({ enemy: testEnemy });\n    }\n\n    render() {\n        if (this.state.inEncounter) {\n            return (\n                <div className='World'>\n                    <Encounter player={ this.state.player } enemy={ this.state.enemy } endEncounter={ this._endEncounter } />\n                </div>\n            );\n        } else {\n            return (\n                <div>\n                    <p>No more encounters</p>\n                </div>\n            );\n        }\n    }\n}\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <World />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}